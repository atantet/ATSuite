#include <cstdlib>
#include <cstdio>
#include <iostream>
#include <atcom_alglib.hpp>
#include <atgraph.hpp>

using namespace std;
using namespace alglib;
typedef sparsematrix spAlg;

int main(void)
{
  //  FILE *f_mem;
  spAlg *highT = new spAlg;
  real_1d_array *codelength = new real_1d_array;
  real_1d_array *sLowDist = new real_1d_array;
  real_1d_array sLowT = new real_1d_array;
  integer_2d_array *memberStore = new integer_2d_array;
  integer_2d_array *sizeStore = new integer_2d_array;
  real_2d_array *lowDistStore = new integer_2d_array;

  highT->coeffRef(0, 1) = 0.5;
  highT->coeffRef(0, 2) = 0.5;
  highT->coeffRef(1, 0) = 0.5;
  highT->coeffRef(1, 2) = 0.5;
  highT->coeffRef(2, 0) = 1./3;
  highT->coeffRef(2, 1) = 1./3;
  highT->coeffRef(2, 3) = 1./3;
  highT->coeffRef(3, 2) = 1./3;
  highT->coeffRef(3, 4) = 1./3;
  highT->coeffRef(3, 5) = 1./3;
  highT->coeffRef(4, 3) = 0.5;
  highT->coeffRef(4, 5) = 0.5;
  highT->coeffRef(5, 3) = 0.5;
  highT->coeffRef(5, 4) = 0.5;

  memberStore = new MatrixXi;
  lowDistStore = new MatrixXd;
  memberStore->setlength(6, 6);
  sizeStore->setlength(6, 6);
  lowDistStore->setlength(6, 6);

  greedyCodelength(highT, codelength, sLowDist, sLowT, memberStore, lowDistStore, sizeStore, 0.);
  return 0;
}
